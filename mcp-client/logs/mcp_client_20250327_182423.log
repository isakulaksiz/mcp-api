2025-03-27 18:24:23,863 - MCPClient - INFO - Importing required libraries
2025-03-27 18:24:24,118 - MCPClient - INFO - Loading environment variables from .env
2025-03-27 18:24:24,119 - MCPClient - INFO - Initializing session state
2025-03-27 18:24:24,119 - MCPClient - DEBUG - Set client in session state to None
2025-03-27 18:24:24,153 - MCPClient - INFO - Setting up Streamlit UI
2025-03-27 18:24:24,154 - MCPClient - DEBUG - GPT-2 URL input: http://127.0.0.1:5054/generate
2025-03-27 18:24:24,154 - MCPClient - DEBUG - Server script input: 
2025-03-27 18:24:24,154 - MCPClient - INFO - Setting up chat interface
2025-03-27 18:24:24,155 - MCPClient - INFO - Initializing messages in session state
2025-03-27 18:24:24,155 - MCPClient - DEBUG - Displaying 0 messages
2025-03-27 18:24:24,155 - MCPClient - DEBUG - Setting up user input chat field
2025-03-27 18:24:24,155 - MCPClient - INFO - Displaying usage instructions
2025-03-27 18:24:24,155 - MCPClient - INFO - Streamlit app initialization complete
2025-03-27 18:24:33,035 - MCPClient - INFO - Importing required libraries
2025-03-27 18:24:33,035 - MCPClient - INFO - Loading environment variables from .env
2025-03-27 18:24:33,037 - MCPClient - INFO - Setting up Streamlit UI
2025-03-27 18:24:33,039 - MCPClient - DEBUG - GPT-2 URL input: http://127.0.0.1:5054/generate
2025-03-27 18:24:33,040 - MCPClient - DEBUG - Server script input: /Users/isakulaksiz/Desktop/mcp-server/weather/tools.py
2025-03-27 18:24:33,041 - MCPClient - INFO - Setting up chat interface
2025-03-27 18:24:33,041 - MCPClient - DEBUG - Displaying 0 messages
2025-03-27 18:24:33,041 - MCPClient - DEBUG - Setting up user input chat field
2025-03-27 18:24:33,041 - MCPClient - INFO - Displaying usage instructions
2025-03-27 18:24:33,042 - MCPClient - INFO - Streamlit app initialization complete
2025-03-27 18:24:33,113 - MCPClient - INFO - Importing required libraries
2025-03-27 18:24:33,114 - MCPClient - INFO - Loading environment variables from .env
2025-03-27 18:24:33,116 - MCPClient - INFO - Setting up Streamlit UI
2025-03-27 18:24:33,118 - MCPClient - DEBUG - GPT-2 URL input: http://127.0.0.1:5054/generate
2025-03-27 18:24:33,118 - MCPClient - DEBUG - Server script input: /Users/isakulaksiz/Desktop/mcp-server/weather/tools.py
2025-03-27 18:24:33,119 - MCPClient - INFO - Connect to server button clicked
2025-03-27 18:24:33,119 - MCPClient - INFO - Attempting to connect to server: /Users/isakulaksiz/Desktop/mcp-server/weather/tools.py
2025-03-27 18:24:33,119 - MCPClient - INFO - Creating new client with GPT-2 URL: http://127.0.0.1:5054/generate
2025-03-27 18:24:33,119 - MCPClient - INFO - Initializing MCPClient with GPT-2 URL: http://127.0.0.1:5054/generate
2025-03-27 18:24:33,119 - MCPClient - DEBUG - Client initialized with GPT-2 URL: http://127.0.0.1:5054/generate
2025-03-27 18:24:33,120 - MCPClient - DEBUG - Running async function: connect_to_server
2025-03-27 18:24:33,121 - MCPClient - INFO - Attempting to connect to server with script: /Users/isakulaksiz/Desktop/mcp-server/weather/tools.py
2025-03-27 18:24:33,121 - MCPClient - DEBUG - Using command: python for script type: Python
2025-03-27 18:24:33,121 - MCPClient - DEBUG - Server parameters created: command='python' args=['/Users/isakulaksiz/Desktop/mcp-server/weather/tools.py'] env=None encoding='utf-8' encoding_error_handler='strict'
2025-03-27 18:24:33,121 - MCPClient - INFO - Creating stdio transport
2025-03-27 18:24:33,134 - MCPClient - DEBUG - Stdio transport created successfully
2025-03-27 18:24:33,134 - MCPClient - INFO - Creating client session
2025-03-27 18:24:33,135 - MCPClient - DEBUG - Client session created successfully
2025-03-27 18:24:33,135 - MCPClient - INFO - Initializing session
2025-03-27 18:24:33,521 - MCPClient - DEBUG - Session initialized successfully
2025-03-27 18:24:33,522 - MCPClient - INFO - Listing available tools
2025-03-27 18:24:33,523 - MCPClient - INFO - Available tools: get_ner
2025-03-27 18:24:33,523 - MCPClient - INFO - Connection to server established successfully
2025-03-27 18:24:33,523 - MCPClient - DEBUG - Async function completed: connect_to_server
2025-03-27 18:24:33,523 - MCPClient - INFO - Connection successful. Available tools: get_ner
2025-03-27 18:24:33,524 - MCPClient - INFO - Setting up chat interface
2025-03-27 18:24:33,524 - MCPClient - DEBUG - Displaying 0 messages
2025-03-27 18:24:33,524 - MCPClient - DEBUG - Setting up user input chat field
2025-03-27 18:24:33,524 - MCPClient - INFO - Displaying usage instructions
2025-03-27 18:24:33,525 - MCPClient - INFO - Streamlit app initialization complete
2025-03-27 18:24:37,680 - MCPClient - INFO - Importing required libraries
2025-03-27 18:24:37,680 - MCPClient - INFO - Loading environment variables from .env
2025-03-27 18:24:37,682 - MCPClient - INFO - Setting up Streamlit UI
2025-03-27 18:24:37,684 - MCPClient - DEBUG - GPT-2 URL input: http://127.0.0.1:5054/generate
2025-03-27 18:24:37,685 - MCPClient - DEBUG - Server script input: /Users/isakulaksiz/Desktop/mcp-server/weather/tools.py
2025-03-27 18:24:37,686 - MCPClient - INFO - Setting up chat interface
2025-03-27 18:24:37,687 - MCPClient - DEBUG - Displaying 0 messages
2025-03-27 18:24:37,687 - MCPClient - DEBUG - Setting up user input chat field
2025-03-27 18:24:37,687 - MCPClient - INFO - User input received: hello...
2025-03-27 18:24:37,688 - MCPClient - DEBUG - Adding user message to session state
2025-03-27 18:24:37,688 - MCPClient - DEBUG - Displaying user message
2025-03-27 18:24:37,689 - MCPClient - INFO - Processing user query
2025-03-27 18:24:37,690 - MCPClient - DEBUG - Calling process_query
2025-03-27 18:24:37,690 - MCPClient - DEBUG - Running async function: process_query
2025-03-27 18:24:37,691 - MCPClient - INFO - Processing query: hello
2025-03-27 18:24:37,691 - MCPClient - DEBUG - Formatting tools information for prompt
2025-03-27 18:24:37,691 - MCPClient - DEBUG - Tools info: Available tools:
- get_ner: 
  Input schema: {'properties': {'text': {'title': 'Text', 'type': 'string'}}, 'required': ['text'], 'title': 'get_nerArguments', 'type': 'object'}

2025-03-27 18:24:37,691 - MCPClient - DEBUG - Created prompt with length: 379
2025-03-27 18:24:37,692 - MCPClient - INFO - Calling GPT-2 API
2025-03-27 18:24:37,692 - MCPClient - INFO - Calling GPT-2 API with prompt length: 379 and max_length: 100
2025-03-27 18:24:37,693 - MCPClient - DEBUG - Executing GPT-2 API call in thread
2025-03-27 18:24:37,694 - MCPClient - INFO - Sending POST request to http://127.0.0.1:5054/generate
2025-03-27 18:24:37,728 - MCPClient - INFO - Received response with status code: 500
2025-03-27 18:24:37,728 - MCPClient - ERROR - API Error (500): <!doctype html>
<html lang=en>
<title>500 Internal Server Error</title>
<h1>Internal Server Error</h1>
<p>The server encountered an internal error and was unable to complete your request. Either the s...
2025-03-27 18:24:37,728 - MCPClient - DEBUG - GPT-2 API response received: {'error': 'API Error (500): <!doctype html>\n<html lang=en>\n<title>500 Internal Server Error</title>\n<h1>Internal Server Error</h1>\n<p>The server encountered an internal error and was unable to com...
2025-03-27 18:24:37,729 - MCPClient - ERROR - Error in GPT-2 response: API Error (500): <!doctype html>
<html lang=en>
<title>500 Internal Server Error</title>
<h1>Internal Server Error</h1>
<p>The server encountered an internal error and was unable to complete your request. Either the s...
2025-03-27 18:24:37,729 - MCPClient - DEBUG - Async function completed: process_query
2025-03-27 18:24:37,729 - MCPClient - DEBUG - Query processing complete: {'success': False, 'error': 'API Error (500): <!doctype html>\n<html lang=en>\n<title>500 Internal Server Error</title>\n<h1>Internal Server Error</h1>\n<p>The server encountered an internal error and...
2025-03-27 18:24:37,730 - MCPClient - ERROR - Error in query processing: API Error (500): <!doctype html>
<html lang=en>
<title>500 Internal Server Error</title>
<h1>Internal Server Error</h1>
<p>The server encountered an internal error and was unable to complete your request. Either the s...
2025-03-27 18:24:37,730 - MCPClient - DEBUG - Adding assistant message to session state
2025-03-27 18:24:37,730 - MCPClient - INFO - Displaying usage instructions
2025-03-27 18:24:37,731 - MCPClient - INFO - Streamlit app initialization complete
